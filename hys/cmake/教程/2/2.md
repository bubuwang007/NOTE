# 指定 C++ 标准

CMake 有一些特殊变量，这些变量要么在幕后创建，要么在由项目代码设置时对 CMake 有意义。其中许多变量都以 开头`CMAKE_`。为项目创建变量时避免这种命名约定。其中两个特殊的用户可设置变量是 [`CMAKE_CXX_STANDARD`](https://cmake.org/cmake/help/latest/variable/CMAKE_CXX_STANDARD.html#variable:CMAKE_CXX_STANDARD)和[`CMAKE_CXX_STANDARD_REQUIRED`](https://cmake.org/cmake/help/latest/variable/CMAKE_CXX_STANDARD_REQUIRED.html#variable:CMAKE_CXX_STANDARD_REQUIRED)。这些可以一起使用来指定构建项目所需的 C++ 标准。



## 目标

添加需要 C++11 的功能。



## 用到的命令

- [`CMAKE_CXX_STANDARD`](https://cmake.org/cmake/help/latest/variable/CMAKE_CXX_STANDARD.html#variable:CMAKE_CXX_STANDARD)
- [`CMAKE_CXX_STANDARD_REQUIRED`](https://cmake.org/cmake/help/latest/variable/CMAKE_CXX_STANDARD_REQUIRED.html#variable:CMAKE_CXX_STANDARD_REQUIRED)
- [`set()`](https://cmake.org/cmake/help/latest/command/set.html#command:set)



## CMakeLists

~~~
# 使用cmake_minimum_required()设置CMake版本
cmake_minimum_required(VERSION 3.10)

# 使用project() 设置项目名称命令
project(Tutorial)

# 添加可执行文件
add_executable(Tutorial main.cpp)

# 设置C++标准
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED True)
# 下面代码开启/Zc:__cplusplus选项
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /Zc:__cplusplus /std:c++20")
~~~



## 构建和运行

~~~
mkdir build
cd ./build
cmake ..
cmake --build .
~~~

也可以使用批处理命令

~~~
@echo off

set here=%~dp0
set build=%here%build
if not exist "%build%" mkdir %build%

cd %build%
cmake ../
cmake --build . --config Release
~~~

